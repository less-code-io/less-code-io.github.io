(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79e71e1a","chunk-ce6637d8"],{"178c":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"properties-organism"},[i("div",{staticClass:"properties-organism__container lc-custom-scroll"},[e.selectedBlock?i("table",{staticClass:"properties-organism__table"},[e.selectedBlock.type?i("tr",{staticClass:"properties-organism__table__row"},[e._m(0),i("td",{staticClass:"properties-organism__table__row__config"},[i("label",[e._v(e._s(e.blockTypeFromGuides))])])]):e._e(),e._l(e.definedProperties,(function(t,l){return i("tr",{key:l,staticClass:"properties-organism__table__row"},["entityFields"!=t.type&&"title"!=t.type&&"textArea"!=t.type&&"dynamicFields"!=t.type?i("td",{staticClass:"properties-organism__table__row__label"},[t.tooltip?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.tooltip,placement:"left"}},[i("label",[e._v(e._s(t.caption))])]):e._e(),t.tooltip?e._e():i("label",[e._v(e._s(t.caption))])],1):e._e(),"entityFields"!=t.type&&"title"!=t.type&&"textArea"!=t.type&&"dynamicFields"!=t.type?i("td",{staticClass:"properties-organism__table__row__config"},["text"==t.type?i("el-input",{attrs:{size:"mini"},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}}):e._e(),"label"==t.type?i("label",{attrs:{size:"mini"}},[e._v(e._s(t.typeData.caption))]):e._e(),"boolean"==t.type?i("el-select",{attrs:{placeholder:"",size:"mini"},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}},[i("el-option",{attrs:{value:!1,label:"false"}}),i("el-option",{attrs:{value:!0,label:"true"}})],1):e._e(),"blockCaption"==t.type?i("el-input",{attrs:{size:"mini"},on:{input:e.changeBlockCaption},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}}):e._e(),"checkbox"==t.type?i("el-checkbox",{model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}},[e._v(e._s(e.selectedBlockProperties[l]?"Yes":"No"))]):e._e(),"select"==t.type?i("div",[t.typeData.options?i("el-select",{attrs:{placeholder:"",size:"mini",filterable:!0},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}},e._l(t.typeData.options,(function(e){return i("el-option",{key:e,attrs:{value:e,label:e}})})),1):e._e()],1):e._e(),"datetime"==t.type?i("el-date-picker",{attrs:{type:"datetime",align:"right",size:"mini"},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}}):e._e(),"editable"==t.type?i("div",{staticClass:"properties-organism__table__row__config__editable"},[i("el-select",{attrs:{placeholder:"",size:"mini",filterable:!0},on:{change:function(i){return e.editableSelected(l,e.selectedBlockProperties[l],t,e.selectedBlockProperties)}},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}},[i("el-option",{attrs:{value:null}}),e._l(e.filterEditables(e.openedDocument.editables,t.typeData),(function(e){return i("el-option",{key:e.id,attrs:{value:e.id,label:e.properties["0"].name}})})),t.typeData.hideCreateNew?e._e():i("el-option",{attrs:{value:"..."}},[e._v("[Create New]")])],2)],1):e._e(),"editableSubSection"==t.type?i("div",{staticClass:"properties-organism__table__row__config__editable"},[i("el-select",{attrs:{placeholder:"",size:"mini",filterable:!0},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}},[i("el-option",{attrs:{value:null}}),e._l(e.filterSubSection(t.typeData),(function(e){return i("el-option",{key:e[t.typeData.idField],attrs:{value:e[t.typeData.idField],label:e[t.typeData.labelField]}})}))],2)],1):e._e(),"config"==t.type?i("div",{staticClass:"properties-organism__table__row__config__config"},[e.selectedBlockProperties[l]?i("el-input",{attrs:{disabled:"",size:"mini"},model:{value:e.selectedBlockProperties[l].name,callback:function(t){e.$set(e.selectedBlockProperties[l],"name",t)},expression:"selectedBlockProperties[propKey].name"}}):e._e(),e.selectedBlockProperties[l]?e._e():i("el-input",{attrs:{disabled:"",size:"mini"}}),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.emitEventDialog(e.EVENTS.DIALOG.SHOW_CONFIGURATION,l,e.selectedBlockProperties[l],t,e.selectedBlockProperties)}}},[e._v("...")])],1):e._e(),"objectConstructor"==t.type?i("div",{staticClass:"properties-organism__table__row__config__config"},[e.selectedBlockProperties[l]?i("el-input",{attrs:{disabled:"",size:"mini"},model:{value:e.selectedBlockProperties[l].name,callback:function(t){e.$set(e.selectedBlockProperties[l],"name",t)},expression:"selectedBlockProperties[propKey].name"}}):e._e(),e.selectedBlockProperties[l]?e._e():i("el-input",{attrs:{disabled:"",size:"mini"}}),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.emitEventDialog(e.EVENTS.DIALOG.SHOW_OBJECT_CONSTRUCTOR,l,e.selectedBlockProperties[l],t,e.selectedBlockProperties)}}},[e._v("...")])],1):e._e()],1):e._e(),"entityFields"==t.type?i("td",{attrs:{colspan:"2"}},[i("EntityFieldsMolecule",{attrs:{propKey:l,propValue:e.selectedBlockProperties[l],schemaType:t.typeData.schemaType}})],1):e._e(),"textArea"==t.type?i("td",{staticClass:"properties-organism__table__row__text-area",attrs:{colspan:"2"}},[i("el-input",{staticClass:"lc-custom-scroll",attrs:{type:"textarea",rows:10},model:{value:e.selectedBlockProperties[l],callback:function(t){e.$set(e.selectedBlockProperties,l,t)},expression:"selectedBlockProperties[propKey]"}})],1):e._e(),"dynamicFields"==t.type?i("td",{staticClass:"properties-organism__table__row__dynamic",attrs:{colspan:"2"}},[i("DynamicFieldsAtom",{attrs:{fields:e.selectedBlockProperties[l],hideHeaders:!0,hideValues:t.typeData.hideValues}})],1):e._e(),"title"==t.type?i("td",{staticClass:"properties-organism__table__row__title",attrs:{colspan:"2"}},[t.tooltip?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.tooltip,placement:"left"}},[i("label",[e._v(e._s(t.caption))])]):e._e(),t.tooltip?e._e():i("label",[e._v(e._s(t.caption))])],1):e._e()])}))],2):e._e()])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"properties-organism__table__row__label"},[i("label",[e._v("Type")])])}],s=i("5530"),r=i("411f"),n=(i("a4d3"),i("e01a"),i("d28b"),i("4de4"),i("7db0"),i("caad"),i("b0c0"),i("d3b7"),i("ac1f"),i("2532"),i("3ca3"),i("1276"),i("ddb0"),i("96cf"),i("1da1")),o=i("53ca"),c=i("d4ec"),d=i("bee2"),u=i("99de"),p=i("7e84"),f=i("262e"),_=i("c194"),m=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(f["a"])(t,e),Object(d["a"])(t,[{key:"getBlockType",value:function(e){var t,i,l,a=this.vue.selectedItems.blocks.find((function(t){return t.name==e}));return null===a||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:null===(i=t.args0)||void 0===i?void 0:null===(l=i.find((function(e){return"field_label_serializable"==e.type})))||void 0===l?void 0:l.text}},{key:"blockSelected",value:function(e){if(this.vue.selectedBlockProperties=null,e){var t,i;if(e.properties)this.vue.definedProperties=e.properties,i=e.properties;else{var l=this.vue.selectedItems.blocks.find((function(t){return t.name==e.type}));this.vue.definedProperties=l.properties,i=l.properties}if(null===(t=this.vue.selectedItems)||void 0===t?void 0:t.editable){this.vue.selectedEditable=this.vue.selectedItems.editable;var a=this.vue.selectedEditable.properties;a||(this.vue.$set(this.vue.selectedEditable,"properties",{}),a=this.vue.selectedEditable.properties);var s=a[e.id];for(var r in s||(this.vue.$set(a,e.id,{}),s=a[e.id]),i){var n=s[r];if(void 0==n||null==n){var c=null,d=i[r]["default"];d&&(c="object"===Object(o["a"])(d)||Array.isArray(d)?JSON.parse(JSON.stringify(d)):d),this.vue.$set(s,r,c)}}this.vue.selectedBlockProperties=s}}}},{key:"filterEditables",value:function(e,t){if(!e)return[];var i=t.editableType;return"number"===typeof i?e.filter((function(e){return e.type===i})):e.filter((function(e){return i.includes(e.type)}))}},{key:"filterSubSection",value:function(e){var t=e.fieldRef,i=e.subSectionPath;if(t){var l=this.vue.selectedBlockProperties[t],a=this.vue.openedDocument.editables.find((function(e){return e.id===l}));if(a&&i){var s=i.split("."),r=a,n=!0,o=!1,c=void 0;try{for(var d,u=s[Symbol.iterator]();!(n=(d=u.next()).done);n=!0){var p=d.value;if(r=r[p],!r)return[]}}catch(f){o=!0,c=f}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}return r}}return[]}},{key:"triggerPropertiesChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=e||this.vue.selectedEditable,this.emitGlobalEvent(r["a"].DOCUMENT.ON_PROPERTIES_CHANGED,{editable:e})}},{key:"editableSelected",value:function(e,t,i,l){var a=this,s=i.typeData;"..."==t?this.emitGlobalEvent(r["a"].TEMPLATE.SHOW_DIALOG,{type:s.templateType,title:"Please select a template",field:i,callback:function(t){t?a.templateSelected(t,e,l):(l[e]=null,a.triggerPropertiesChanged())}}):this.triggerPropertiesChanged()}},{key:"emitEventDialog",value:function(e,t,i,l,a){this.emitGlobalEvent(e,{value:i,field:l,selectedBlockProperties:a,callback:function(e){e&&(a[t]=e)}})}},{key:"templateSelected",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i,l){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.vue.$store.getters.openedDocument,e.next=3,this.services("TemplateService").getRenderedTemplate(t,!0);case 3:s=e.sent,l[i]=s.id,a.editables.push(s),this.triggerPropertiesChanged(this.vue.selectedEditable),this.editEditable(i,s.id);case 8:case"end":return e.stop()}}),e,this)})));function t(t,i,l){return e.apply(this,arguments)}return t}()},{key:"editEditable",value:function(e,t){var i=this.vue.$store.getters.openedDocument,l=i.editables.find((function(e){return e.id==t}));l&&this.actions().patchSelectedItems({editable:l})}},{key:"deleteEditable",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i,l){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.msgbox("Are you sure you want to delete this resource?",this.MSGBOX_TYPE.YES_NO,"Confirm Delete");case 2:a=e.sent,a==this.MSGBOX_BUTTONS.YES&&(l[t]=null,s=this.vue.$store.getters.openedDocument,r=s.editables.filter((function(e){return e.id!=i})),s.editables=r,this.actions().setOpenedDocument({result:s}));case 4:case"end":return e.stop()}}),e,this)})));function t(t,i,l){return e.apply(this,arguments)}return t}()},{key:"changeBlockCaption",value:function(e){var t=i("54ca");t.selected&&t.selected.setFieldValue(e,"CAPTION")}}]),t}(_["a"]),y=i("3ef1"),b=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"dynamic-fields-atom"},[l("label",{staticClass:"dynamic-fields-atom__title"},[e._v(e._s(e.title))]),e.fields?l("table",{staticClass:"dynamic-fields-atom__fields"},[e.hideHeaders?e._e():l("tr",[l("th",[e._v("Key")]),l("th",[e._v("Value")])]),e._l(e.fields,(function(t){return l("tr",{key:t.id},[l("td",[l("el-input",{ref:t.id+"-key",refInFor:!0,attrs:{size:"small"},model:{value:t.key,callback:function(i){e.$set(t,"key",i)},expression:"field.key"}})],1),e.hideValues?e._e():l("td",[l("el-input",{ref:t.id+"-value",refInFor:!0,attrs:{size:"small"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})],1),l("td",[l("img",{attrs:{src:i("4a52")},on:{click:function(i){return e.deleteField(t)}}})])])})),l("tr",[l("td",[l("el-input",{attrs:{size:"small"},on:{change:function(t){return e.createNewField("key",t)}},model:{value:e.newField.key,callback:function(t){e.$set(e.newField,"key",t)},expression:"newField.key"}})],1),e.hideValues?e._e():l("td",[l("el-input",{attrs:{size:"small"},on:{change:function(t){return e.createNewField("value",t)}},model:{value:e.newField.value,callback:function(t){e.$set(e.newField,"value",t)},expression:"newField.value"}})],1),l("td")])],2):e._e()])},v=[],h=(i("99af"),i("c740"),i("a434"),i("b86d")),k={name:"DynamicFieldsAtom",methods:{deleteField:function(e){var t=this.fields.findIndex((function(t){return t.id==e.id}));-1!==t&&this.fields.splice(t,1)},createNewField:function(e,t){var i=this;if(this.fields){var l={id:Object(h["a"])(),key:"key"==e?t:null,value:"value"==e?t:null};this.newField[e]=null,this.fields.push(l),this.$nextTick((function(){var t="key"==e?"value":"key",a=i.$refs["".concat(l.id,"-").concat(t)];a&&(a.length>0?a[0].focus():a.focus())}))}}},props:{fields:Array,title:String,hideHeaders:Boolean,hideValues:Boolean},data:function(){return{newField:{key:null,value:null}}}},g=k,E=(i("1dd6"),i("2877")),T=Object(E["a"])(g,b,v,!1,null,"016281f4",null),P=T.exports,C=new m,F={name:"PropertiesOrganism",beforeCreate:function(){C.hook(this)},methods:C.methods("editableSelected","filterEditables","editEditable","deleteEditable","filterSubSection","emitEventDialog","changeBlockCaption"),components:{EntityFieldsMolecule:y["default"],DynamicFieldsAtom:P},props:{},watch:{selectedBlock:function(e){C.blockSelected(e)}},data:function(){return{definedProperties:null,selectedBlockProperties:null,selectedEditable:null,EVENTS:r["a"]}},computed:Object(s["a"])({availableVariables:function(){var e=this.selectedItems.editable;if(e){var t,i,l=null===(t=this.$uiFramework)||void 0===t?void 0:null===(i=t.services)||void 0===i?void 0:i.EditorService;if(l)return l.getAvailableVariables(e)}return[]},blockTypeFromGuides:function(){if(this.selectedBlock&&this.guides){var e,t=this.guides[this.selectedBlock.type];return null===t||void 0===t?void 0:null===(e=t.info)||void 0===e?void 0:e.caption}return""}},C.getters("selectedBlock","guides","selectedItems","openedDocument"))},I=F,w=(i("a6b9"),Object(E["a"])(I,l,a,!1,null,"1757bc12",null));t["default"]=w.exports},"1dd6":function(e,t,i){"use strict";var l=i("f8b4"),a=i.n(l);a.a},"328a":function(e,t,i){},"34d4":function(e,t,i){},"3ef1":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"entity-fields-molecule"},[l("table",{staticClass:"entity-fields-molecule__table"},[e._l(e.propValue,(function(t){return l("tr",{key:t.id,staticClass:"entity-fields-molecule__table__row"},[l("td",{staticClass:"entity-fields-molecule__table__row__field"},[l("el-input",{ref:t.id+"-key",refInFor:!0,attrs:{size:"mini",disabled:"string"===typeof t.dataType||t.primaryKey},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"field.name"}})],1),"PARENTREF"===t.dataType?l("td",{staticClass:"entity-fields-molecule__table__row__type"},[l("label",[e._v("Parent")])]):e._e(),"PARENTREF"!==t.dataType?l("td",{staticClass:"entity-fields-molecule__table__row__type"},[l("el-select",{ref:t.id+"-value",refInFor:!0,attrs:{placeholder:"",size:"mini",filterable:!0},on:{change:function(i){return e.dataTypeSelected(t)}},model:{value:t.dataType,callback:function(i){e.$set(t,"dataType",i)},expression:"field.dataType"}},e._l(e.allDataTypes,(function(e){return l("el-option",{key:e.id,attrs:{value:e.id,label:e.caption}})})),1)],1):e._e(),"PARENTREF"!==t.dataType?l("td",{staticClass:"entity-fields-molecule__table__row__toolbar"},[l("el-popover",{attrs:{placement:"left",width:"300",trigger:"click"}},[l("table",{staticStyle:{width:"100%"}},[l("tr",[l("td",[l("label",[e._v("Name")])]),l("td",[l("el-input",{attrs:{size:"mini",disabled:"string"===typeof t.dataType||t.primaryKey},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"field.name"}})],1)]),l("tr",[l("td",[l("label",[e._v("Description")])]),l("td",[l("el-input",{attrs:{size:"mini"},model:{value:t.description,callback:function(i){e.$set(t,"description",i)},expression:"field.description"}})],1)]),e.getDataType(t.dataType).hasSize?l("tr",[l("td",[l("label",[e._v("Size")])]),l("td",[l("el-input",{attrs:{size:"mini"},model:{value:t.size,callback:function(i){e.$set(t,"size",i)},expression:"field.size"}})],1)]):e._e(),e.schemaType==e.SCHEMA_TYPES.GENERIC?l("tr",[l("td",[l("label",[e._v("Minimum")])]),l("td",[l("el-input",{attrs:{size:"mini"},model:{value:t.minimum,callback:function(i){e.$set(t,"minimum",i)},expression:"field.minimum"}})],1)]):e._e(),e.schemaType==e.SCHEMA_TYPES.GENERIC?l("tr",[l("td",[l("label",[e._v("Maximum")])]),l("td",[l("el-input",{attrs:{size:"mini"},model:{value:t.maximum,callback:function(i){e.$set(t,"maximum",i)},expression:"field.maximum"}})],1)]):e._e(),"string"===typeof t.dataType||t.primaryKey?e._e():l("tr",[l("td",[l("label",[e._v("Default")])]),l("td",[l("el-input",{attrs:{size:"mini"},model:{value:t.default,callback:function(i){e.$set(t,"default",i)},expression:"field.default"}})],1)]),"string"===typeof t.dataType?l("tr",[l("td",[l("label",[e._v("Relationship")])]),l("td",[l("el-select",{attrs:{placeholder:"",size:"mini",filterable:!0},model:{value:t.relationshipType,callback:function(i){e.$set(t,"relationshipType",i)},expression:"field.relationshipType"}},[l("el-option",{attrs:{value:"composition",label:"Composition"}}),l("el-option",{attrs:{value:void 0,label:"Aggregation"}}),l("el-option",{attrs:{value:"association",label:"Association"}})],1)],1)]):e._e(),t.primaryKey?e._e():l("tr",[l("td"),l("td",[l("el-checkbox",{model:{value:t.required,callback:function(i){e.$set(t,"required",i)},expression:"field.required"}},[e._v("Required")])],1)]),t.primaryKey?e._e():l("tr",[l("td"),l("td",[l("el-checkbox",{on:{change:function(i){return e.changeFieldCaption(t)}},model:{value:t.isArray,callback:function(i){e.$set(t,"isArray",i)},expression:"field.isArray"}},[e._v("Is Array")])],1)]),t.primaryKey?l("tr",[l("td"),l("td",[l("el-checkbox",{attrs:{disabled:""},model:{value:t.primaryKey,callback:function(i){e.$set(t,"primaryKey",i)},expression:"field.primaryKey"}},[e._v("Is Primary Key")])],1)]):e._e(),e.schemaType!=e.SCHEMA_TYPES.GENERIC&&(e.getDataType(t.dataType).canAutoIncrement||t.autoIncrement)?l("tr",[l("td"),l("td",[l("el-checkbox",{model:{value:t.autoIncrement,callback:function(i){e.$set(t,"autoIncrement",i)},expression:"field.autoIncrement"}},[e._v("Auto Increment")])],1)]):e._e()]),l("el-button",{attrs:{slot:"reference"},slot:"reference"},[l("img",{attrs:{src:i("bc58")}})])],1),l("button",{on:{click:function(i){return e.deleteField(t)}}},[l("img",{attrs:{src:i("4a52")}})])],1):e._e()])})),l("tr",{staticClass:"entity-fields-molecule__table__row"},[l("td",{staticClass:"entity-fields-molecule__table__row__field"},[l("el-input",{ref:e.randomId,attrs:{size:"mini"},on:{change:function(t){return e.createNewField("key",t)}},model:{value:e.newFieldData.name,callback:function(t){e.$set(e.newFieldData,"name",t)},expression:"newFieldData.name"}})],1),l("td",{staticClass:"entity-fields-molecule__table__row__type"},[l("el-select",{attrs:{placeholder:"",size:"mini",filterable:!0},model:{value:e.newFieldData.dataType,callback:function(t){e.$set(e.newFieldData,"dataType",t)},expression:"newFieldData.dataType"}},e._l(e.allDataTypes,(function(e){return l("el-option",{key:e.id,attrs:{value:e.id,label:e.caption}})})),1)],1),e._m(0)])],2)])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"entity-fields-molecule__table__row__toolbar-dummy"},[i("div")])}],s=(i("99af"),i("7db0"),i("b0c0"),i("a9e3"),i("2909")),r=i("5530"),n=i("a0e2"),o=i("b9f5"),c=(i("c740"),i("a434"),i("d4ec")),d=i("bee2"),u=i("99de"),p=i("7e84"),f=i("262e"),_=i("a026"),m=i("c194"),y=i("b86d"),b=i("411f"),v=i("f62c"),h=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(f["a"])(t,e),Object(d["a"])(t,[{key:"newField",value:function(e){e.propValue.push({id:Object(y["a"])(),name:"",dataType:1})}},{key:"deleteField",value:function(e,t,i){var l=e.propValue.findIndex((function(e){return e.id==i.id}));if(e.propValue.splice(l,1),"string"==typeof i.dataType){var a={src:t,dest:null,feildId:i.id};this.emitGlobalEvent(b["a"].DOCUMENT.ENTITIES_CONNECTED,a)}}},{key:"dataTypeSelected",value:function(e,t,i){var l,a=t.id,s=i.dataType,r=i.id;if(i.destEntityId){var n=e.selectedItems.editable.properties[i.destEntityId];if(n){var o=n.fields,c=o.findIndex((function(e){return e.id==i.destEntityIdField}));-1!==c&&o.splice(c,1)}delete i.destEntityId,delete i.destEntityIdField}if("string"==typeof s){if(this.changeFieldCaption(e,i),a!==s){var d=e.selectedItems.editable.properties[s];if(d){var u=d.fields,p="".concat(s,".").concat(a);i.destEntityId=s,i.destEntityIdField=p;var f={id:p,entityId:a,isArray:"association"===i.relationshipType&&i.isArray,dataType:"PARENTREF"};i.parentRefField=p;var m=e.allDataTypes.find((function(e){return e.id==a})),y=null;y="association"===i.relationshipType||f.isArray?"".concat(m.caption,"s"):m.caption,f.name=Object(v["simpalizeFirstLetter"])(y),u.push(_["default"].observable(f))}}l={src:a,dest:s,feildId:r}}else l={src:a,dest:null,feildId:r};this.emitGlobalEvent(b["a"].DOCUMENT.ENTITIES_CONNECTED,l)}},{key:"changeFieldCaption",value:function(e,t){if("string"===typeof t.dataType){var i=e.allDataTypes.find((function(e){return e.id==t.dataType}));t.name=Object(v["simpalizeFirstLetter"])(t.isArray?"".concat(i.caption,"s"):i.caption)}}},{key:"removeParentRefField",value:function(){}}]),t}(m["a"]),k=new h,g={name:"EntityFieldsMolecule",beforeCreate:function(){k.hook(this)},components:{},methods:{getDataType:function(e){return this.allDataTypes.find((function(t){return t.id===e}))||{}},deleteField:function(e){k.deleteField(this,this.selectedBlock.id,e)},dataTypeSelected:function(e){k.dataTypeSelected(this,this.selectedBlock,e)},changeFieldCaption:function(e){k.changeFieldCaption(this,e)},createNewField:function(){var e=this;if(this.propValue){var t={id:Object(n["f"])(),name:this.newFieldData.name,dataType:1};this.propValue.push(t),this.newFieldData={name:"",dataType:1},this.$nextTick((function(){var t=e.$refs[e.randomId];t.focus()}))}}},props:{propKey:String,propValue:Array,schemaType:Number},data:function(){return{SCHEMA_TYPES:o["SCHEMA_TYPES"],newFieldData:{name:"",dataType:1},randomId:"newfield-".concat(Object(n["f"])())}},computed:Object(r["a"])({allDataTypes:function(){return[].concat(Object(s["a"])(o["DATA_TYPES"][this.schemaType]),Object(s["a"])(this.customDataTypes))}},k.getters("customDataTypes","selectedBlock","selectedItems"))},E=g,T=(i("f0c7"),i("2877")),P=Object(T["a"])(E,l,a,!1,null,"3dbb2cac",null);t["default"]=P.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var l=i("1d80"),a=i("5899"),s="["+a+"]",r=RegExp("^"+s+s+"*"),n=RegExp(s+s+"*$"),o=function(e){return function(t){var i=String(l(t));return 1&e&&(i=i.replace(r,"")),2&e&&(i=i.replace(n,"")),i}};e.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(e,t,i){var l=i("861d"),a=i("d2bb");e.exports=function(e,t,i){var s,r;return a&&"function"==typeof(s=t.constructor)&&s!==i&&l(r=s.prototype)&&r!==i.prototype&&a(e,r),e}},a6b9:function(e,t,i){"use strict";var l=i("34d4"),a=i.n(l);a.a},a9e3:function(e,t,i){"use strict";var l=i("83ab"),a=i("da84"),s=i("94ca"),r=i("6eeb"),n=i("5135"),o=i("c6b6"),c=i("7156"),d=i("c04e"),u=i("d039"),p=i("7c73"),f=i("241c").f,_=i("06cf").f,m=i("9bf2").f,y=i("58a8").trim,b="Number",v=a[b],h=v.prototype,k=o(p(h))==b,g=function(e){var t,i,l,a,s,r,n,o,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=y(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:l=2,a=49;break;case 79:case 111:l=8,a=55;break;default:return+c}for(s=c.slice(2),r=s.length,n=0;n<r;n++)if(o=s.charCodeAt(n),o<48||o>a)return NaN;return parseInt(s,l)}return+c};if(s(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var E,T=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof T&&(k?u((function(){h.valueOf.call(i)})):o(i)!=b)?c(new v(g(t)),i,T):g(t)},P=l?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;P.length>C;C++)n(v,E=P[C])&&!n(T,E)&&m(T,E,_(v,E));T.prototype=h,h.constructor=T,r(a,b,T)}},f0c7:function(e,t,i){"use strict";var l=i("328a"),a=i.n(l);a.a},f8b4:function(e,t,i){}}]);
//# sourceMappingURL=chunk-79e71e1a.9adcbe38.js.map